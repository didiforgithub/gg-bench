In the gym environment, the action space is defined as a discrete space with integers from 0 to `N_max - 1`. However, not all these indices correspond to valid moves because valid moves involve subtracting proper divisors of the current `N`. Thus, a chosen action (index) needs to map to a valid proper divisor that can be subtracted from `N`. The function `valid_moves()` determines the set of valid actions (proper divisors of `N`), and an action is valid if it is within this set. If an action is not in the valid moves, it is considered invalid, resulting in a penalty. Therefore, the mapping relies on identifying which indices of the action space correspond to valid proper divisors of the current `N`.